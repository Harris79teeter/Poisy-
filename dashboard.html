<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pöïsy - Send Money</title>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<style>
  body {margin:0; padding:20px 15px; background:#f9f9f9; font-family:-apple-system,system-ui,Arial,sans-serif; min-height:100vh;}
  .container {max-width:500px; margin:0 auto; background:white; border-radius:20px; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,0.1);}
  
  select, input {width:100%; padding:18px; margin:12px 0; border:1px solid #eee; border-radius:12px; font-size:16px; box-sizing:border-box;}
  label {font-weight:600; color:#333; margin-top:10px; display:block;}
  
  .amount-row {display:flex; align-items:center; justify-content:space-between; margin:25px 0;}
  .amount-label {font-size:18px; font-weight:bold;}
  .slider {flex:1; margin:0 15px; height:8px; border-radius:5px; background:#ddd; outline:none;}
  .slider::-webkit-slider-thumb {-webkit-appearance:none; width:28px; height:28px; background:#1E90FF; border-radius:50%;}

  .btn {width:100%; padding:18px; background:#000; color:white; border:none; border-radius:12px; font-size:18px; font-weight:bold; margin:25px 0; cursor:pointer;}
  
  .methods {display:grid; grid-template-columns:1fr 1fr; gap:15px; margin:30px 0;}
  .method {background:#fafafa; border:2px solid #f0f0f0; border-radius:15px; padding:20px; text-align:center; cursor:pointer; transition:0.3s;}
  .method:active {transform:scale(0.98);}
  .method img {width:38px; height:38px; margin-bottom:8px;}

  .hidden {display:none;}
  .back {background:#666; margin-top:10px;}
  .lion {width:90px; height:90px; margin:20px auto; display:block;}
</style>
</head>
<body>

<div class="container">
  <!-- Lion Logo -->
  <svg class="lion" viewBox="0 0 64 64">
    <circle cx="32" cy="32" r="12" fill="#FFD700"/>
    <circle cx="32" cy="32" r="25" fill="none" stroke="#FFB800" stroke-width="6"/>
    <circle cx="26" cy="29" r="4" fill="#000"/>
    <circle cx="38" cy="29" r="4" fill="#000"/>
    <path d="M20,40 Q32,50 44,40" stroke="#000" stroke-width="4" fill="none"/>
  </svg>

  <!-- Send Money Form -->
  <div id="mainForm">
    <label>Recipient Country</label>
    <select><option>USA</option><option>Nigeria</option><option>UK</option><option>Canada</option></select>

    <label>Recipient Name</label>
    <input type="text" placeholder="Full name">

    <label>Recipient Email/Phone</label>
    <input type="text" placeholder="email@example.com or +234...">

    <div class="amount-row">
      <div class="amount-label">Amount: $<span id="val">50</span></div>
      <input type="range" class="slider" min="5" max="200" value="50" oninput="document.getElementById('val').innerText=this.value">
    </div>
    <div style="text-align:center; color:#888; font-size:14px;">$5 ————————————— $200</div>

    <button class="btn" onclick="showMethods()">Get Quote</button>
  </div>

  <!-- Payment Methods -->
  <div class="hidden" id="methods">
    <h2 style="text-align:center; margin:20px 0; color:#333;">Choose Payment Method</h2>
    <div class="methods">
      <div class="method" onclick="openCardForm()">
        <div style="font-size:40px;">Card</div>
        <div>Bank Card<br><small>(Stripe)</small></div>
      </div>
      <div class="method">
        <div style="font-size:40px;">Phone</div>
        <div>MTN Mobile Money</div>
      </div>
      <div class="method">
        <div style="font-size:40px;">Wallet</div>
        <div>PalmPay</div>
      </div>
      <div class="method">
        <div style="font-size:40px;">Crypto</div>
        <div>Crypto</div>
      </div>
    </div>
  </div>

  <!-- Card Form -->
  <div class="hidden" id="cardForm">
    <h2 style="text-align:center; color:#333;">Enter Card Details</h2>
    <input type="text" id="cardNum" placeholder="Bank Card Number" maxlength="19" oninput="formatCard(this)">
    <input type="text" placeholder="Cardholder Name">
    <div style="display:flex; gap:10px;">
      <input type="text" placeholder="MM/YY" maxlength="5" style="width:50%">
      <input type="text" placeholder="CVV" maxlength="4" style="width:50%">
    </div>
    <button class="btn" onclick="showPassword()">Send</button>
    <button class="btn back" onclick="showMethods()">Back</button>
  </div>

  <!-- Password Confirm -->
  <div class="hidden" id="passwordForm">
    <h2 style="text-align:center; color:#333;">Confirm Transaction</h2>
    <p style="text-align:center; color:#666;">Enter your Pöïsy account password</p>
    <input type="password" placeholder="Account Password">
    <input type="password" placeholder="Confirm Password">
    <button class="btn" onclick="complete()">Pay Now</button>
    <button class="btn back" onclick="openCardForm()">Back</button>
  </div>
</div>

<script>
  firebase.initializeApp({
    apiKey: "AIzaSyB6vgNBWwaa5ScUqGutsDAV7Eu4YKMqfjg",
    authDomain: "poisy-2dedf.firebaseapp.com",
    projectId: "poisy-2dedf"
  });
  const auth = firebase.auth();
  auth.onAuthStateChanged(user => { if (!user) location.href = "index.html"; });

  function showMethods() { hideAll(); document.getElementById("methods").classList.remove("hidden"); }
  function openCardForm() { hideAll(); document.getElementById("cardForm").classList.remove("hidden"); }
  function showPassword() {
    const card = document.getElementById("cardNum").value.replace(/\s/g,'');
    if (card.length < 16) return alert("Enter valid card number");
    hideAll();
    document.getElementById("passwordForm").classList.remove("hidden");
  }
  function complete() {
    const p1 = document.querySelectorAll("#passwordForm input")[0].value;
    const p2 = document.querySelectorAll("#passwordForm input")[1].value;
    if (p1 !== p2 || p1.length < 6) return alert("Passwords don't match");
    alert("Payment Successful!");
    location.reload();
  }

  function hideAll() {
    document.querySelectorAll("#mainForm, #methods, #cardForm, #passwordForm").forEach(el => el.classList.add("hidden"));
  }

  function formatCard(input) {
    let v = input.value.replace(/\D/g, '').substring(0,16);
    let parts = v.match(/.{1,4}/g);
    input.value = parts ? parts.join(' ') : v;
  }
</script>

</body>
  </html>
